---
import Header from '../components/Header.astro';
import '../styles/global.css';
import Hero from '../components/Hero.astro';
import BackgroundWrapper from '../components/BackgroundWrapper.astro';
import Layout from '../layouts/Layout.astro';
import Carousel from '../components/Carousel/Carousel.astro';
import Footer from '../components/Footer.astro';
import moviesData from '../moviesData';

const { favouriteMovies, rankedMovies, trendingMovies, movieCovers } = moviesData;
const landingIndex = Math.floor(Math.random() * movieCovers.length);
const landingCover = movieCovers[landingIndex];
---

<Layout class="bg-[#141414] font-sans">
  <BackgroundWrapper src={landingCover.img.src}>
    <Header />
    <Hero title={landingCover.title} sinopsis={landingCover.sinopsis} />
  </BackgroundWrapper>

  <Carousel category="Favourites" collection={favouriteMovies} />
  <Carousel category="Trending" collection={trendingMovies} />
  <Carousel category="Best movies" collection={rankedMovies} />

  <Footer />
</Layout>
